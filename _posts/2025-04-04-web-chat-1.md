---
title: "從零打造一個智慧機器人：我的機器人學習之旅"
categories:
  - Chatbot
tags:
  - chat
  - chatbot
  - nlp
last_modified_at: 2025-04-04T16:20:02-05:00
---
最近在閱讀《自然語言處理最佳實務》這本書，裡面有一章在講解「客服機器人的應用場景與技術架構」，看完之後我心裡冒出一個念頭：「不如自己來實作一套看看？」這不只是對書中概念的實驗，也是一場實戰練習。

我設定的第一個目標是打造一個具備基本功能的客服對話系統，包含：
- FAQ 查詢回答
- 多輪對話處理
- 支援轉接真人客服

技術上，我採用了自己熟悉的技術棧：
- Spring Boot 作為主架構
- RabbitMQ 負責模組解耦與訊息分發
- PostgreSQL 儲存對話紀錄與知識資料
- Docker 協助環境部署與管理
- Redis、html、css、javascript...
- Rasa

第一版很快就做出來了，但……效果並不如我預期的好。

## 做完第一版，我學到什麼？

雖然功能完成了，但整體對話體驗不夠自然、有些僵硬，也難以應對複雜或模糊的問題。這讓我開始認真思考一件事：

>「客服機器人，到底該怎麼對話？」

在這過程中，我逐漸意識到，客服對話其實就是模仿人與人之間的溝通流程：
- 使用者一句、系統一句
- 使用者提出意圖、系統嘗試理解並給出回應
- 解決一個問題，再進入下一個問題

乍看之下很簡單，但實際情況卻複雜得多。使用者有可能：
- 話題跳來跳去
- 一次輸入多個問題
- 無法清楚描述問題本身
- 中途修改原本的問題

因此，我重新審視整體架構，決定設計第二版，一個**更接近「人類對話邏輯」的系統**。

## 我眼中的客服系統核心邏輯

要讓一個對話機器人有「對話能力」，我認為需要具備以下幾個核心模組：

### 1. 意圖辨識（Intent Detection）
我們要能辨識使用者是要查詢資訊、投訴、詢問訂單進度，還是只是說「你好」。不同意圖決定了回應策略與流程走向。

### 2. 對話狀態管理（State Management）
對話不是 stateless 的，系統需要知道現在對話進行到哪，例如：
- 使用者剛提問，還沒回覆
- 等待使用者補充資料
- 進入詢問流程中

這可以用有限狀態機或上下文物件來管理。

### 3. 回應策略（Response Strategy）
不管是從 FAQ、資料庫、還是 AI 模型產生回應，核心是「用什麼邏輯找出最合理的回覆方式」。

### 4. 多輪對話處理（Multi-turn）
簡單的問答不難，難的是使用者說「那上次訂單呢？」這時系統要能記住前文，知道「上次」是什麼意思。

### 5. Fallback & 真人轉接
當機器無法理解或解決問題時，要有退路。這可能是請使用者重說、顯示常見問題、或直接轉真人客服。

## 下一步：我打算這樣設計第二版

第二版我會從這幾個方向開始著手：

- 加入簡單的意圖分類器（規則 or 模型）
- 建構一套會記憶對話上下文的管理模組
- 將流程抽象化為任務狀態 + 回應策略
- 儲存對話快照，確保多輪能續接
- 加入 fallback 模組，預設五秒內無回應就自動轉接

這將是一套「從流程出發設計的客服系統」，不只是跑得動，更希望能「聊得通」。

## 結語

這段過程讓我意識到，客服機器人不只是 NLP 應用，它其實是一門關於「理解人、引導人、回應人」的工程。從第一版的碰壁到第二版的規劃，我學到最重要的一件事是：

> 不要只是寫功能，要設計對話。

也希望這篇筆記能幫助和我一樣對 NLP 與系統設計有興趣的朋友們。如果你也正在做客服系統，或是想討論 NLP 設計邏輯，歡迎留言交流！
